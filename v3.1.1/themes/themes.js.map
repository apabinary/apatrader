{"version":3,"sources":["../../../../src/themes/themes.es6"],"names":["win","themeName","local_storage","get","custom_theme","name","require","Highcharts","setOptions","plotOptions","candlestick","lineColor","color","upColor","upLineColor","lang","getOptions","Object","keys","forEach","key","value","index","i18n","off","on","$ele","elementText","text","elementClass","attr","confirmationDialog","themeObj","moveToTop","$html","createBlankWindow","dialogClass","width","height","resizable","collapsable","minimizable","maximizable","closable","closeOnEscape","modal","ignoreTileAction","destroy","find","growl","notice","message","themeName_file","replace","remove","set","location","reload","dialog"],"mappings":"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","file":"themes.js","sourcesContent":["/**\r\n * Created by arnab on 4/24/16.\r\n */\r\nimport $ from 'jquery';\r\nimport windows from '../windows/windows';\r\nimport '../common/util';\r\nimport 'highstock';\r\nimport 'jquery-growl';\r\n\r\nlet win = null;\r\n\r\n/*Set theme from local storage*/\r\nlet themeName = local_storage.get(\"theme\");\r\nconst custom_theme = local_storage.get(\"custom_theme\");\r\nthemeName = themeName && themeName.name;\r\nif (themeName) {\r\n   require(['lib/highstock/themes/' + themeName]);\r\n}\r\nelse if(custom_theme) {\r\n   Highcharts.setOptions(custom_theme);\r\n}\r\nelse { // Setting candle-stick color incase there's no theme set.\r\n   Highcharts.setOptions({\r\n      plotOptions: {\r\n         candlestick: {\r\n            lineColor: 'rgba(0,0,0,1)',\r\n            color: 'rgba(215,24,24,1)',\r\n            upColor: 'rgba(2,146,14,1)',\r\n            upLineColor: 'rgba(0,0,0,1)'\r\n         }\r\n      }\r\n   });\r\n}\r\n\r\n// Localizing Highcharts.\r\nconst lang = Highcharts.getOptions().lang;\r\nObject.keys(lang).forEach((key) => {\r\n   if(typeof lang[key] === 'object') {\r\n      lang[key].forEach(\r\n         (value, index) => { lang[key][index] = value.i18n(); }\r\n      );\r\n      return;\r\n   }\r\n   lang[key] = lang[key].i18n();\r\n});\r\n\r\n$('a.theme_dark_blue, a.theme_dark_green, a.theme_dark_unica, a.theme_gray, a.theme_grid, ' +\r\n   'a.theme_grid_light, a.theme_sand_signika, a.theme_skies, a.theme_default')\r\n   .off('click')\r\n   .on('click', function () {\r\n      const $ele = $(this);\r\n      const elementText = $ele.text();\r\n      const elementClass = $ele.attr('class');\r\n      confirmationDialog(null, elementClass, elementText);\r\n   });\r\n\r\nexport const confirmationDialog = (themeObj, elementClass, elementText) => {\r\n   if(win) {\r\n      win.moveToTop();\r\n      return;\r\n   }\r\n   require(['text!themes/themes.html'], ($html) => {\r\n      $html = $($html).i18n();\r\n\r\n      win = windows.createBlankWindow($html, {\r\n         dialogClass: 'dialog-confirm',\r\n         width: 360,\r\n         height: 175,\r\n         resizable: false,\r\n         collapsable: false,\r\n         minimizable: false,\r\n         maximizable: false,\r\n         closable: false,\r\n         closeOnEscape: false,\r\n         modal: true,\r\n         ignoreTileAction:true,\r\n         destroy: () => {\r\n            win = null;\r\n         },\r\n      });\r\n      $html.find(\"#apply\").on(\"click\", () => {\r\n         $.growl.notice({message: 'Loading ' + elementText});\r\n         const themeName_file = elementClass.replace('theme_', '').replace('_', '-');\r\n         if(themeObj){\r\n            local_storage.remove(\"theme\");\r\n            local_storage.set(\"custom_theme\", themeObj);\r\n         }\r\n         else if(themeName_file === 'default') {\r\n            local_storage.remove(\"theme\");\r\n            local_storage.remove(\"custom_theme\");\r\n         } else{\r\n            local_storage.set(\"theme\", {name: themeName_file}); \r\n         }\r\n         location.reload();\r\n      });\r\n      $html.find(\"#cancel\").on(\"click\", () => {\r\n         win.dialog( 'close' );\r\n         win.dialog( \"destroy\" );\r\n      });\r\n      win.dialog('open');\r\n   });\r\n}\r\n\r\nexport default  { confirmationDialog };\r\n\r\n"]}