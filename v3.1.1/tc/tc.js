define(["exports","babel-runtime/regenerator","jquery","../windows/windows","../websockets/binary_websockets","text!./tc.html","css!./tc.css"],function(a,b,c,d,e,f){"use strict";function g(a){return a&&a.__esModule?a:{"default":a}}function h(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(i){return void c(i)}return g.done?void a(h):Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)})}return d("next")})}}Object.defineProperty(a,"__esModule",{value:!0});var i=g(b),j=g(c),k=g(d),l=g(e),m=g(f),n=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=null;l["default"].events.on("login",function(){var a=h(i["default"].mark(function b(a){var c,d,e,f,g,h;return i["default"].wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(o&&(o.dialog("destroy"),o=null),!a.authorize.is_virtual){b.next=3;break}return b.abrupt("return");case 3:return b.next=5,Promise.all([l["default"].cached.send({landing_company_details:a.authorize.landing_company_name}),l["default"].cached.send({website_status:1}),l["default"].send({get_settings:1})]);case 5:c=b.sent,d=n(c,3),e=d[0],f=d[1],g=d[2],e.landing_company_details&&e.landing_company_details.name&&f.website_status&&g.get_settings&&f.website_status.terms_conditions_version!==g.get_settings.client_tnc_status&&(h=j["default"](m["default"]).i18n(),h.find(".tc_landing_comp_name").html(e.landing_company_details.name),h.find(".button").click(function(){l["default"].send({tnc_approval:1}),o.dialog("destroy")}),o=k["default"].createBlankWindow(j["default"]("<div/>"),{title:"Terms and Conditions".i18n(),width:580,minHeight:90,height:220,resizable:!1,collapsable:!1,minimizable:!1,maximizable:!1,closable:!1,modal:!0,closeOnEscape:!1,ignoreTileAction:!0,"data-authorized":"true",destroy:function(){o=null}}),h.appendTo(o),j["default"]("body").append(o.dialog("widget")),o.dialog("open"));case 11:case"end":return b.stop()}},b,void 0)}));return function(){return a.apply(this,arguments)}}()),a["default"]={}});