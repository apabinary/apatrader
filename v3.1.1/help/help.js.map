{"version":3,"sources":["../../../../src/help/help.es6"],"names":["win","sublist_items","init","$html","$content","find","each","i","node","attr","indexOf","createBlankWindow","title","width","height","resizable","minimizable","maximizable","modal","ignoreTileAction","close","dialog","remove","destroy","win_view","unbind","state","current","list","loading","sublist","content_page","content","show_clear","text","i18n","sublist_id","about_us","id","getting_started","trade_types","indicators","faq","glossary","updateSublist","getContent","append","filter","innerHTML","animate","scrollTop","document","click","openSublist","search","e","query","target","val","toLowerCase","length","item","reduce","prev","curr","formatted","title_s","description","link","onclick","sublist_name","clearSearch","key","concat","q","walker","createTreeWalker","NodeFilter","SHOW_ELEMENT","subSectionArray","descriptionArray","currentNode","nodeName","innerText","nextNode","push","index","substr","appendTo","bind","init_help","elem","moveToTop","showSpecificContent","search_text","trigger"],"mappings":"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","file":"help.js","sourcesContent":["import $ from 'jquery';\r\nimport windows from 'windows/windows';\r\nimport rv from 'common/rivetsExtra';\r\nimport html from 'text!help/help.html';\r\nimport content from 'text!help/content.html'\r\nimport 'css!help/help.css';\r\n\r\n\"use strict\";\r\n\r\nlet win = null,\r\n    sublist_items = [];\r\n\r\nconst init = () => {\r\n    const $html = $(html);\r\n    const $content = $(content);\r\n    //Modify links in content to open in new tab.\r\n    $content.find(\"a\").each((i, node) => {\r\n        if ($(node).attr(\"href\").indexOf(\"contract-period\") != -1)\r\n            return;\r\n        $(node).attr('target', '_blank');\r\n    });\r\n    win = windows.createBlankWindow($(\"<div class='help-dialog'/>\"), {\r\n        title: \"Help\",\r\n        width: 850,\r\n        height: 400,\r\n        resizable: true,\r\n        minimizable: true,\r\n        maximizable: true,\r\n        modal: false,\r\n        ignoreTileAction: true,\r\n        close: () => {\r\n            win.dialog('destroy');\r\n            win.remove();\r\n            win = null;\r\n            sublist_items = [];\r\n        },\r\n        destroy: () => {\r\n            win_view && win_view.unbind();\r\n            sublist_items = [];\r\n            win_view = null;\r\n        }\r\n    });\r\n\r\n    const state = {\r\n        current: {\r\n            list: null,\r\n            loading: false,\r\n            sublist: null,\r\n            content_page: null,\r\n            content: null,\r\n            show_clear: false\r\n        },\r\n        list: [{\r\n            text: \"About Binary.com\".i18n(),\r\n            sublist_id: \"about_us\"\r\n        }, {\r\n            text: \"Getting started\".i18n(),\r\n            sublist_id: \"getting_started\"\r\n        }, {\r\n            text: \" Types of trades\".i18n(),\r\n            sublist_id: \"trade_types\"\r\n        }, {\r\n            text: \"Indicators\".i18n(),\r\n            sublist_id: \"indicators\"\r\n        }, {\r\n            text: \"FAQ\".i18n(),\r\n            sublist_id: \"faq\"\r\n        }, {\r\n            text: \"Glossary\".i18n(),\r\n            sublist_id: \"glossary\"\r\n        }],\r\n        sublist: {\r\n            about_us: [{\r\n                text: \"About us\".i18n(),\r\n                id: \"about-us\"\r\n            }, {\r\n                text: \"Group history\".i18n(),\r\n                id: \"group-history\"\r\n            }],\r\n            getting_started: [{\r\n                text: \"Why choose Binary Trading?\".i18n(),\r\n                id: \"why-binary\"\r\n            }, {\r\n                text: \"Benefits of Binary Trading\".i18n(),\r\n                id: \"binary-benefits\"\r\n            }, {\r\n                text: \"How to trade Binaries?\".i18n(),\r\n                id: \"trade-binaries\"\r\n            }],\r\n            trade_types: [{\r\n                text: \"Up/Down\".i18n(),\r\n                id: \"up-down\"\r\n            }, {\r\n                text: \"Touch/No Touch\".i18n(),\r\n                id: \"touch-no-touch\"\r\n            }, {\r\n                text: \"In/Out\".i18n(),\r\n                id: \"in-out\"\r\n            }, {\r\n                text: \"Asians\".i18n(),\r\n                id: \"asians\"\r\n            }, {\r\n                text: \"Digits\".i18n(),\r\n                id: \"digits\"\r\n            }, {\r\n                text: \"Spreads\".i18n(),\r\n                id: \"spreads\"\r\n            }],\r\n            indicators: [{\r\n                \"text\": \"Volatility Indicators\".i18n(),\r\n                \"id\": \"volatility-indicators\"\r\n            }, {\r\n                \"text\": \"Overlap Studies\".i18n(),\r\n                \"id\": \"overlap-studies\"\r\n            }, {\r\n                \"text\": \"Momentum Indicators\".i18n(),\r\n                \"id\": \"momentum-indicators\"\r\n            }, {\r\n                \"text\": \"Price Transformation\".i18n(),\r\n                \"id\": \"price-transformation\"\r\n            }, {\r\n                \"text\": \"Statistical Functions\".i18n(),\r\n                \"id\": \"statistical-functions\"\r\n            }, {\r\n                \"text\": \"Pattern Recognition\".i18n(),\r\n                \"id\": \"pattern-recognition\"\r\n            }, {\r\n                \"text\": \"Bill Williams\".i18n(),\r\n                \"id\": \"bill-williams\"\r\n            }],\r\n            faq: [{\r\n                text: \"Opening an account\".i18n(),\r\n                id: \"opening-account\"\r\n            }, {\r\n                text: \"Financial Security\".i18n(),\r\n                id: \"financial-security\"\r\n            }, {\r\n                text: \"Depositing and withdrawing funds\".i18n(),\r\n                id: \"deposit-withdraw\"\r\n            }, {\r\n                text: \"Learning to trade\".i18n(),\r\n                id: \"learn-trade\"\r\n            }],\r\n            glossary: [{\r\n                \"text\": \"Barrier(s)\".i18n(),\r\n                \"id\": \"barriers\"\r\n            }, {\r\n                \"text\": \"Binary option\".i18n(),\r\n                \"id\": \"binary-option\"\r\n            }, {\r\n                \"text\": \"Commodities\".i18n(),\r\n                \"id\": \"commodities\"\r\n            }, {\r\n                \"text\": \"Contract period\".i18n(),\r\n                \"id\": \"contract-period\"\r\n            }, {\r\n                \"text\": \"Derivative\".i18n(),\r\n                \"id\": \"derivative\"\r\n            }, {\r\n                \"text\": \"Duration\".i18n(),\r\n                \"id\": \"duration\"\r\n            }, {\r\n                \"text\": \"Ends Between/Ends Outside trades\".i18n(),\r\n                \"id\": \"ends-between\"\r\n            }, {\r\n                \"text\": \"Entry spot price\".i18n(),\r\n                \"id\": \"entry-spot\"\r\n            }, {\r\n                \"text\": \"Expiry price\".i18n(),\r\n                \"id\": \"expiry-price\"\r\n            }, {\r\n                \"text\": \"Forex\".i18n(),\r\n                \"id\": \"forex\"\r\n            }, {\r\n                \"text\": \"GMT\".i18n(),\r\n                \"id\": \"gmt\"\r\n            }, {\r\n                \"text\": \"Higher/Lower trades\".i18n(),\r\n                \"id\": \"h_l-trades\"\r\n            }, {\r\n                \"text\": \"Indices\".i18n(),\r\n                \"id\": \"indices\"\r\n            }, {\r\n                \"text\": \"In/Out trades\".i18n(),\r\n                \"id\": \"i_o-trades\"\r\n            }, {\r\n                \"text\": \"Market exit price\".i18n(),\r\n                \"id\": \"m_exit-price\"\r\n            }, {\r\n                \"text\": \"No Touch trades\".i18n(),\r\n                \"id\": \"no-touch-trades\"\r\n            }, {\r\n                \"text\": \"(One) Touch trades\".i18n(),\r\n                \"id\": \"touch-trades\"\r\n            }, {\r\n                \"text\": \"Payout\".i18n(),\r\n                \"id\": \"payout\"\r\n            }, {\r\n                \"text\": \"Pip\".i18n(),\r\n                \"id\": \"pip\"\r\n            }, {\r\n                \"text\": \"Profit\".i18n(),\r\n                \"id\": \"profit\"\r\n            }, {\r\n                \"text\": \"Volatility Indices\".i18n(),\r\n                \"id\": \"volatility-indices\"\r\n            }, {\r\n                \"text\": \"Resale price\".i18n(),\r\n                \"id\": \"resale-price\"\r\n            }, {\r\n                \"text\": \"Return\".i18n(),\r\n                \"id\": \"return\"\r\n            }, {\r\n                \"text\": \"Rise/Fall trades\".i18n(),\r\n                \"id\": \"r_f-trades\"\r\n            }, {\r\n                \"text\": \"Sell option\".i18n(),\r\n                \"id\": \"sell-option\"\r\n            }, {\r\n                \"text\": \"Spot price\".i18n(),\r\n                \"id\": \"spot-price\"\r\n            }, {\r\n                \"text\": \"Stake\".i18n(),\r\n                \"id\": \"stake\"\r\n            }, {\r\n                \"text\": \"Stays Between/Goes Outside trades\".i18n(),\r\n                \"id\": \"stays-between-goes-outside-trades\"\r\n            }, {\r\n                \"text\": \"Tick\".i18n(),\r\n                \"id\": \"tick\"\r\n            }, {\r\n                \"text\": \"Underlying\".i18n(),\r\n                \"id\": \"underlying\"\r\n            }]\r\n        }\r\n    };\r\n\r\n    state.updateSublist = (list) => {\r\n        state.current.list = list;\r\n        state.current.sublist = state.sublist[list.sublist_id];\r\n        state.getContent(state.current.sublist[0].id);\r\n    };\r\n\r\n    state.getContent = (id) => {\r\n        state.current.content_page = id;\r\n        state.current.content = $(\"<div/>\").append($content.filter(\"#\" + id))[0].innerHTML;\r\n        $(\".content\").animate({ scrollTop: 0 }, 500);\r\n        $(document).find(\"a[href$='#contract-period']\").click(() => {\r\n            state.openSublist(\"contract period\");\r\n            return false;\r\n        })\r\n    };\r\n\r\n    state.search = (e) => {\r\n        const query = $(e.target).val().toLowerCase();\r\n        if (query.length > 0) {\r\n            state.current.show_clear = true;\r\n            state.current.list = null;\r\n            state.current.content_page = null;\r\n            state.current.sublist = sublist_items.filter((item) => {\r\n                return item.text.toLowerCase().indexOf(query) != -1;\r\n            });\r\n            /*Extract search text from content*/\r\n            const content = getContent(query);\r\n\r\n            // Formatting content to show in a particular format;\r\n            state.current.content = '<div class=\"search-text\">' + content.reduce(function(prev, curr) {\r\n                let formatted = \"<a href=\\\"#\\\"><h3>\" + curr.title + \"</h3></a>\" +\r\n                    \"<strong>\" + curr.title_s + \"</strong>\" +\r\n                    \"<br/><br/>\" + curr.description;\r\n                prev = prev ? prev + \"<hr>\" + formatted : formatted;\r\n                return prev\r\n            }, '') + '</div>';\r\n\r\n            /*\r\n            state.current.content = */\r\n            if (state.current.content)\r\n                $(\".help-dialog .content .items\").find(\"a\").each(function(i, link) {\r\n                    link.onclick = (e) => {\r\n                        state.openSublist($(e.target).text());\r\n                    };\r\n                });\r\n        } else {\r\n            state.current.show_clear = false;\r\n        }\r\n    }\r\n\r\n    state.openSublist = (sublist_name) => {\r\n        state.current.list = null;\r\n        state.current.sublist = sublist_items.filter((item) => {\r\n            return item.text.toLowerCase().indexOf(sublist_name.toLowerCase()) != -1;\r\n        });\r\n        if (sublist_name.toLowerCase().indexOf(\"The premier platform\".toLowerCase()) != -1) {\r\n            state.current.sublist = [sublist_items[0]]; //About us page\r\n        }\r\n        state.current.sublist && state.current.sublist.length && state.getContent(state.current.sublist[0].id);\r\n    }\r\n\r\n    state.clearSearch = () => {\r\n        $(\".help-dialog .help-search\").val(\"\");\r\n        state.current.show_clear = false;\r\n    }\r\n\r\n    //Concat all the sublist items into one array so that we can later use it for searching.\r\n    for (let key in state.sublist) {\r\n        sublist_items = sublist_items.concat(state.sublist[key]);\r\n    }\r\n\r\n    const getContent = (q) => {\r\n        const walker = document.createTreeWalker($(\"<div/>\").append($content)[0], NodeFilter.SHOW_ELEMENT);\r\n        let subSectionArray = [];\r\n        let descriptionArray = [];\r\n        let title = '',\r\n            title_s = '';\r\n        while (1) {\r\n            let description = '';\r\n            if (walker.currentNode.nodeName == \"DIV\" && walker.currentNode.id) {\r\n                title = \"\";\r\n                title_s = \"\";\r\n                description = \"\";\r\n            } else if (walker.currentNode.nodeName == \"H2\") {\r\n                title = walker.currentNode.innerText;\r\n                title_s = \"\";\r\n            } else if (walker.currentNode.nodeName == \"H3\") {\r\n                title_s = walker.currentNode.innerText;\r\n                if (title_s.toLowerCase().indexOf(q) != -1) {\r\n                    while (walker.nextNode()) {\r\n                        if (walker.currentNode.nodeName == \"DIV\" || walker.currentNode.nodeName == \"H3\")\r\n                            break;\r\n                        description = description + walker.currentNode.innerHTML;\r\n                    }\r\n\r\n                    subSectionArray.push({\r\n                        title: title,\r\n                        title_s: title_s,\r\n                        description: description\r\n                    });\r\n                    continue;\r\n                }\r\n            } else if (walker.currentNode.nodeName !== \"DIV\" && walker.currentNode.nodeName !== \"H2\" &&\r\n                walker.currentNode.nodeName !== \"H3\" && walker.currentNode.innerText.toLowerCase().indexOf(q) != -1) {\r\n                const index = walker.currentNode.innerText.toLowerCase().indexOf(q);\r\n                description = \"<p>...\" + walker.currentNode.innerText.substr(index, 100) + \"...</p>\";\r\n                descriptionArray.push({\r\n                    title: title,\r\n                    title_s: title_s,\r\n                    description: description\r\n                });\r\n            }\r\n\r\n            if (!walker.nextNode())\r\n                break;\r\n        }\r\n        return subSectionArray.concat(descriptionArray);\r\n    }\r\n\r\n    //Show the about us page initially\r\n    state.current.list = state.list[0];\r\n    state.updateSublist(state.current.list);\r\n    state.current.content_page = state.sublist[state.current.list.sublist_id][0].id;\r\n    state.getContent(state.current.content_page);\r\n\r\n    $html.appendTo(win);\r\n    let win_view = rv.bind(win[0], state);\r\n    win.dialog('open');\r\n};\r\n\r\nexport const init_help = (elem) => {\r\n    elem.click(() => {\r\n        if (!win)\r\n            init();\r\n        else\r\n            win.moveToTop();\r\n    });\r\n};\r\n\r\nexport const showSpecificContent = (search_text) => {\r\n    if (!win)\r\n        init();\r\n    else\r\n        win.moveToTop();\r\n\r\n    $(\".help-search\").val(search_text).trigger(\"input\");\r\n}\r\n\r\nexport default {\r\n    init_help,\r\n    showSpecificContent\r\n}\r\n"]}